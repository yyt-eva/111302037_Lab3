<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>111302037_Lab3_Number Guessing Game</title>
</head>
<body>
    <h1>111302037_Lab3_Number Guessing Game</h1>
    <div id="result"></div>
    <script>
        const minRange = 1;
        const maxRange = 100;
        const maxAttempts = 7;
        let remainingAttempts = maxAttempts;
        const correctNumber = Math.floor(Math.random() * (maxRange - 2)) + 2; // Generates 2-99
        let userGuess;
        const resultDiv = document.getElementById('result');

        while (remainingAttempts > 0) {
            userGuess = window.prompt(`請輸入一個數字 (${minRange} ~ ${maxRange})\n剩餘次數: ${remainingAttempts}`);
            
            // Check for empty input
            if (userGuess === null || userGuess.trim() === "") {
                alert("輸入不可為空！請輸入一個有效數字。");
                continue;
            }

            userGuess = Number(userGuess);

            // Check for invalid input
            if (isNaN(userGuess) || userGuess < minRange || userGuess > maxRange) {
                alert(`請輸入 ${minRange} 到 ${maxRange} 之間的數字！`);
                continue;
            }

            remainingAttempts--;

            // Check if user guessed correctly
            if (userGuess === correctNumber) {
                alert("恭喜你猜對了！");
                resultDiv.innerHTML = '<img src="correct.jpg" alt="Correct">';
                break;
            } else if (remainingAttempts === 0) {
                alert(`遊戲結束！正確答案是 ${correctNumber}。`);
                resultDiv.innerHTML = '<img src="wrong.jpg" alt="Wrong">';
            } else if (userGuess > correctNumber) {
                alert("猜太大了！請再試一次。");
            } else {
                alert("猜太小了！請再試一次。");
            }
        }
    </script>
</body>
</html>
